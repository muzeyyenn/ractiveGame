<!doctype html>
<html>
  <head>
    <title>Game</title>
    <meta charset="utf-8"/>
    <script src="fabric.js" type="text/javascript"></script>
     <!--<script src="http://cdn.ractivejs.org/latest/ractive.min.js"></script> -->
    <script src="ractive.js" type="text/javascript"></script>
    <script src="underscore.js" type="text/javascript"></script>
<style>
canvas {
  border: 1px solid gray;
}
.colorBox {
  display: inline-block;
  width: 20px;
  height: 12px;
  border: 1px solid black;
}
</style>
  </head>
  <body>

<div id='container'></div>
</div>

<script id='template' type='text/html'>
  {{#if signedIn}}
  <p>Welcome, {{userName}}!</p>
  <div id="gameControls">
    {{#if gameStarted}}
      <b>Time left</b>: {{time}} <br/>
      <b>Score:</b> {{score}} <br/>
    {{else}}
      Level: {{level}} <br/>
      Level shapes:
        <fieldset>
        {{#each allShapes:i}}
          <label><input type='checkbox' checked='{{shapesSelected[i]}}'>{{this}}</label>
        {{/each}}
        </fieldset>
      Level colors:
        <fieldset>
            {{#each allColors:i}}
            <label><input type='checkbox' checked='{{colorsSelected[i]}}'><div style="background-color: {{this}}" class="colorBox">&nbsp;</div></label>
            {{/each}}
        </fieldset>
        <button on-click="startGame">START GAME</button>
    {{/if}}
  </div>
  {{else}}
  <!-- message for non-signed-in users -->
  <p>Hi there! Please <a on-click='signIn' href="#">sign in</a></p>
  {{/if}}
</script>

<canvas id="c" width=600" height="600" align="left"></canvas>
  <script src="game.js"></script>
  </body>
</html>
